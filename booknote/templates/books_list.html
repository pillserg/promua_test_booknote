{% extends "base.html" %}
{% block extra_css %}
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='js/lib/jquery-tokeninput/styles/token-input.css') }}" />
{% endblock %}
{% block extra_js %}
    <script src="{{ url_for('static', filename='js/lists_management.js') }}"></script>
    <script src="{{ url_for('static', filename='js/lib/jquery-tokeninput/src/jquery.tokeninput.js') }}"></script>
    <script src="{{ url_for('static', filename='js/authors_autocomplite.js') }}"></script>
{% endblock %}

{% block content %}
<ul class="entries">
    {% if g.user.is_authenticated() %}
        <li class="entry"><a href="{{ url_for('add_book') }}" class="">Add book</a></li>
    {% endif %}    
    {% for book in books %}
        <li class="entry">
            {% if g.user.is_authenticated() %}
                <div class="control">
                    <a href="{{ url_for('edit_book', id=book.id) }}" class="edit_entry_link">edit</a>
                    <a href="{{ url_for('delete_book', id=book.id) }}" class="delete_entry_link">delete</a>
                </div>
            {% endif %}
            <h2>{{ book.title }}</h2>
            
            authors: {{ book.authors_names|join(', ') }} 
        </li>
    {% endfor %}
</ul>
{% endblock %}
